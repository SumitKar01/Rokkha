name: Android CI

on:
  push:
    branches: [ "release" ]
  pull_request:
    branches: [ "release" ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
      - name: Build Android App
      # You may pin to the exact commit or the version.
      # uses: sparkfabrik/android-build-action@3fca63a17cb801dbb926544719ad0efca47d2503
        uses: sparkfabrik/android-build-action@v1.3.4
        with:
          # You can build an unsigned APK (assemble) or a signed AAB (bundle).
          build-type: assemble
          # Name of the gradle task to exec (eg. assembleDebug, assembleRelease, bundleRelease)
          gradle-task: assembleDebug
          # Increment build number
          increment-build-number: true
          # Package name
          package-name: rokkha
          # Keystore file content as base64 encoded string
          keystore-content: optional
          # Keystore password
          keystore-password: optional
          # Keystore alias
          keystore-alias: optional
          # JSON keystore file content
          json-key-data: optional
          # Upload to Play Store
          upload-to-play-store: optional
          # Project path
          project-path: ./
          # Output path of the build
          output-path: rokkha.apk
          # Boolean to tell the Action to upload the .ipa to Browserstack App Live after the build.
          browserstack-upload: false
          # Browserstack username (required if browserstack-upload == true)
          browserstack-username: optional 
          # Browserstack access key (required if browserstack-upload == true)
          browserstack-access-key: optional 
          # Name of the env file name to pass to fastlane --env
          fastlane-env: optional
          # Specify the ruby version you wish to use
          ruby-version: head
          # Specify the bundler version you wish to use
          bundler-version: default

